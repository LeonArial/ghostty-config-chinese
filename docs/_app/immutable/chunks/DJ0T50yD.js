import"./CWj6FrbW.js";import{au as _,m as f,av as d,U as h,T as b,h as k,aw as y,W as g,X as x,Z as E,a1 as S,a2 as T,Y as V}from"./B6cOdPib.js";import{r as W}from"./BiZW5mHN.js";import{a as j,c as M}from"./BTFbwtpj.js";import{p as u}from"./DrY6_fCw.js";function P(a,e,n=e){var o=new WeakSet;_(a,"input",async t=>{var l=t?a.defaultValue:a.value;if(l=i(a)?m(l):l,n(l),f!==null&&o.add(f),await d(),l!==(l=e())){var r=a.selectionStart,s=a.selectionEnd,v=a.value.length;if(a.value=l??"",s!==null){var c=a.value.length;r===s&&s===v&&c>v?(a.selectionStart=c,a.selectionEnd=c):(a.selectionStart=r,a.selectionEnd=Math.min(s,c))}}}),(k&&a.defaultValue!==a.value||h(e)==null&&a.value)&&(n(i(a)?m(a.value):a.value),f!==null&&o.add(f)),b(()=>{var t=e();if(a===document.activeElement){var l=y??f;if(o.has(l))return}i(a)&&t===m(a.value)||a.type==="date"&&!t&&!a.value||t!==a.value&&(a.value=t??"")})}function i(a){var e=a.type;return e==="number"||e==="range"}function m(a){return a===""?null:+a}var U=E('<input type="text"/>');function z(a,e){x(e,!0);let n=u(e,"value",15),o=u(e,"blank",3,!1),t=u(e,"align",3,"right");function l(v){v.stopPropagation()}var r=U();W(r);let s;r.__click=l,r.__change=function(...v){var c;(c=e.change)==null||c.apply(this,v)},S(()=>s=j(r,1,M(t()),"svelte-sc5jsx",s,{blank:o(),empty:n()===""})),P(r,n),T(a,r),V()}g(["click","change"]);export{z as T,P as b};

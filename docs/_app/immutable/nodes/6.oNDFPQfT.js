import"../chunks/CWj6FrbW.js";import{W as z,X as O,a3 as A,ak as T,Z as U,as as P,$ as h,a0 as g,a1 as E,a2 as R,Y as W,j as s,a4 as y,at as B,a6 as u,a7 as f}from"../chunks/B6cOdPib.js";import{P as C}from"../chunks/Bw1wt3Bu.js";import{c as H}from"../chunks/C5rYfHQm.js";import{e as D,i as F}from"../chunks/1ID_ZJf9.js";import{s as G}from"../chunks/BiZW5mHN.js";import{a as I}from"../chunks/BTFbwtpj.js";import{b as J}from"../chunks/C3aWv6SF.js";import{p as L}from"../chunks/DrY6_fCw.js";import{T as N}from"../chunks/DJ0T50yD.js";var M=U('<div role="option" tabindex="0"><!> <!></div>'),Q=U('<div class="expandable-list svelte-3w1bj7"><div class="item-list svelte-3w1bj7"></div> <div class="list-controls svelte-3w1bj7"><button type="button" title="添加快捷键" class="svelte-3w1bj7">+</button> <button type="button" title="删除选中" class="svelte-3w1bj7">-</button></div></div>');function S(m,c){O(c,!0);let t=A(T([])),a=L(c,"value",31,()=>T([]));function b(e){e.key==="Escape"&&y(t,[],!0),!(e.ctrlKey||e.shiftKey)&&s(t).length}function k(e){return n=>{if(!n.ctrlKey)return y(t,[e],!0);if(!s(t).includes(e))return s(t).push(e);s(t).splice(s(t).indexOf(e),1)}}let d;function X(){a([...a(),"="]),setTimeout(()=>d.scrollTop=d.scrollHeight,1)}function Y(){a(a().filter((e,n)=>!s(t).includes(n))),y(t,[],!0)}function j(e,n=!1){return r=>{const l=a()[e].split("="),p=n?1:0;l[p]=r.target.value,a(a()[e]=l.join("="),!0)}}var _=Q();P("keydown",B,b);var v=g(_);D(v,21,a,F,(e,n,r)=>{var l=M();let p;var Z=u(()=>k(r));l.__click=function(...i){var o;(o=s(Z))==null||o.apply(this,i)};var K=g(l);{let i=u(()=>a()[r].split("=")[0]),o=u(()=>j(r));N(K,{get value(){return s(i)},blank:!0,align:"left",get change(){return s(o)}})}var q=h(K,2);{let i=u(()=>a()[r].split("=")[1]),o=u(()=>j(r,!0));N(q,{get value(){return s(i)},blank:!0,get change(){return s(o)}})}f(l),E((i,o)=>{p=I(l,1,"keybind svelte-3w1bj7",null,p,i),G(l,"aria-selected",o)},[()=>({selected:s(t).includes(r)}),()=>s(t).includes(r)]),P("keypress",l,()=>k(r)),R(e,l)}),f(v),J(v,e=>d=e,()=>d);var w=h(v,2),$=g(w);$.__click=X;var x=h($,2);x.__click=Y,f(w),f(_),E(()=>x.disabled=s(t).length===0),R(m,_),W()}z(["click"]);function ue(m,c){O(c,!0),C(m,{title:"快捷键",children:(t,a)=>{S(t,{get value(){return H.keybind},set value(b){H.keybind=b}})},$$slots:{default:!0}}),W()}export{ue as component};
